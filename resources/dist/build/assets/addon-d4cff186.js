function u(n,t,e,c,r,a,l,f){var s=typeof n=="function"?n.options:n;t&&(s.render=t,s.staticRenderFns=e,s._compiled=!0),c&&(s.functional=!0),a&&(s._scopeId="data-v-"+a);var o;if(l?(o=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!i&&typeof __VUE_SSR_CONTEXT__<"u"&&(i=__VUE_SSR_CONTEXT__),r&&r.call(this,i),i&&i._registeredComponents&&i._registeredComponents.add(l)},s._ssrRegister=o):r&&(o=f?function(){r.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:r),o)if(s.functional){s._injectStyles=o;var m=s.render;s.render=function(h,_){return o.call(_),m(h,_)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,o):[o]}return{exports:n,options:s}}const p={mixins:[Listing],props:["initialColumns"],data(){return{columns:this.initialColumns,requestUrl:cp_url("statamic-locks/locks")}}};var v=function(){var t=this,e=t._self._c;return e("data-list",{attrs:{"visible-columns":t.columns,columns:t.columns,rows:t.items},scopedSlots:t._u([{key:"default",fn:function({filteredRows:c}){return e("div",{staticClass:"card overflow-hidden p-0 relative"},[e("data-list-table",{scopedSlots:t._u([{key:"actions",fn:function({row:r,index:a}){return[e("dropdown-list",[e("dropdown-item",{staticClass:"warning",attrs:{text:t.__("Delete")},on:{click:function(l){t.$refs[`deleter_${r.id}`].confirm()}}},[e("resource-deleter",{ref:`deleter_${r.id}`,attrs:{resource:r},on:{deleted:t.request}})],1)],1)]}}],null,!0)})],1)}}])})},k=[],C=u(p,v,k,!1,null,null,null,null);const $=C.exports,g={props:{itemId:{type:String,required:!0},itemType:{type:String,required:!0}},data(){return{show:!1,status:[]}},mounted(){this.checkLockStatus()},methods:{checkLockStatus(){this.$axios.post(cp_url("statamic-locks/locks"),{item_id:this.itemId,item_type:this.itemType}).then(n=>{if(n.data.error){this.show=!0,this.status=n.data;return}this.show=!1,this.status=[]}).catch(n=>this.handleAxiosError(n))},handleAxiosError(n){this.$toast.error(__("Error getting lock status"))}}};var w=function(){var t=this,e=t._self._c;return e("div",[t.show?e("modal",{staticClass:"modal-lock"},[e("div",{staticClass:"flex items-center p-6 bg-gray-200 border-b text-center"},[t._v(" "+t._s(t.__("Item Locked"))+" ")]),e("div",{staticClass:"p-6"},[e("p",{staticClass:"text-base"},[t._v(t._s(t.__("Locked by :name, last updated :since",{name:t.status.locked_by.name,since:t.status.last_updated}))+" ")])])]):t._e()],1)},b=[],S=u(g,w,b,!1,null,null,null,null);const y=S.exports;Statamic.booting(()=>{Statamic.component("statamic-locks-listing",$),Statamic.component("statamic-locks-modal",y)});
